
#### sweagger는 뭐야?
- 브라우저에 path를 띄우는 것
- api(도커에 있다. 도커에 있는지 어뜨케 알았냐면, localhost에 있으니까)를 브라우저에 보여주는 것을 의미함

##### restful api 방식(아래처럼 펼쳐 놓은 방식)

![[Pasted image 20250501095244.png]]

- localhost(도커에 있음을 알 수 있다), 9000(게이트웨이 포트번호), docs(스웨거 라우터)



#### 마틴 파울러의 리팩토링 7대 원칙

- 마틴 파울러의 『리팩토링(Refactoring)』에서 제시한 **리팩토링의 원칙**은 기능을 바꾸지 않고 코드를 구조적으로 개선하기 위해 따라야 할 **핵심 철학과 실천 기준

| 원칙                   | 설명                                                                             |
| -------------------- | ------------------------------------------------------------------------------ |
| **1. 기능은 그대로 유지하라**  | 리팩토링은 **동작을 바꾸지 않고 구조만 바꾸는 것**이다. 코드 실행 결과가 같아야 하며, 이를 위해 테스트가 중요하다.           |
| **2. 작은 단계로 리팩토링하라** | 한 번에 큰 변경을 하지 말고, **작고 안전한 단계**로 나눠서 수정해야 한다. 각 단계는 바로 테스트 가능해야 한다.            |
| **3. 자동화된 테스트를 갖춰라** | 리팩토링 전후에 코드가 같은 동작을 하는지 확인하기 위해 **단위 테스트**가 필수다. 테스트 없이는 리팩토링도 없다.             |
| **4. 코드 스멜을 감지하라**   | 리팩토링은 단순한 미화가 아니라, **문제가 될 수 있는 코드 냄새(Code Smell)**를 해결하기 위한 것이다.              |
| **5. 가독성을 최우선하라**    | 코드는 컴퓨터보다 **사람이 읽기 쉬워야 한다.** 가독성 높은 코드가 유지보수성 높은 코드다.                          |
| **6. 중복은 악이다(DRY)**  | 중복된 코드는 버그를 일으키기 쉽다. **중복 제거**는 가장 강력한 리팩토링 이유 중 하나다.                          |
| **7. 리팩토링은 일상이다**    | 리팩토링은 특별한 작업이 아니라, **개발 과정의 일부**로 습관처럼 해야 한다. “기능 추가 → 리팩토링 → 기능 추가”가 기본 루틴이다. |

단일 책임 원칙(Single Responsibility Principle)
- 단일 책임 원칙(Single Responsibility Principle, **SRP**)은 **SOLID 원칙** 중 하나로, **클래스나 모듈은 하나의 책임만 가져야 한다**는 원칙이다.
- 책임은 곧 기능이다.


### SRP 원칙에 따른 crime_service.py 리팩토링한 작업

기존의 crime_service.py를 srp원칙에 따른 즉, 단일 책임 원칙에 따라 crime_preprocessing.py와 crime_visualizer.py로 나누었다. 


#### 클린 아키텍쳐(서비스 클링 아키텍쳐로 리팩토링하였다.)
- 도메인 서비스에셔 코드나 로직을 구현하고, 컨트롤러나 라우터는 호출해서 쓰게 하고, 서비스에서는핵심로직만 구현한다? 호출되는 계층 구조에서 제일 밑바닥에 두게 해서 ...밑바닥에 있는 어떤 객체에 의존하지 마라...의존성의 방향을 비즈니스 로직으로 구현한다. 계층이라는 것은 서비스 컨트롤러를 의미한다.
- (프롬프팅) 나는 클린 아키텍쳐에 따라서 리팩토링하려고 해.

#### 서비스에서 클래스를 생성하는게 아니라 함수로 구현하는 이유?
- 단일책임원칙에서 책임은 메소드이다. 기능은 하나만.....그래서 클래스 대신에 함수로 사용한다. 생성자를 없앤다. 의존성을 분리시키려고 하였다. 
-  internal 내부에 있는 것은 함수형으로 뽑아야 한다. 생성자를 만들면 안된다. 딱 하나만 만들기 때문에.



### 기계학습에서 자연어 처리(NLP)
- 사람의 언어(자연어)를 컴퓨터가 이해하고 해석하며 생성하도록 만드는 기술 분야
- 자연어 처리에는 stt와 tts가 있다.


##### TDD(테스트 주도 개발) by 캔벡트

(프롬프팅) 나 지금 fastAPI로 msa를 만들었는데, 켄트백의 tdd 방식으로 adoptium을 설치해서 samsung_report.txt를 자연어 처리하였음. adoptium을 설치할 때, 환경변수 설정도 했음. 아래처럼 결과물이 나옴.

![[Pasted image 20250501181214.png]]

Adoptium(OpenJDK)을 설치했으므로 samsung_report.py 파일에서 Java 관련 설정을 업데이트해보겠습니다. JAVA_HOME 환경 변수를 확인하고 설정하는 코드를 추가하겠습니다.


(아래 문장은 프롬프팅한 문장임)
여기서 중요한 것은 보고서를 자연어 처리를 통해 wordcloud 이미지로 저장하는 거였음. 작성된 메소드는 파일안에 있음
![[Pasted image 20250501162226.png]]



###### 앞으로 해야할 것은 게이트웨이를 통해 자연어 처리하는 것임.
지금 한 것은 보고서 요약을 통해 키워드를 추출하는 과정을 하였음(Adoptium을 이용)