
메인 라우터: gateway_router
서브라우터 login_router.py, finance_router.py, esg_router.py, tokens_router.py

기본 구조를 먼저 파악하면 서브라우터 생성하는데 어려움이 없다. 

먼저 체크해야할 부분!
메인 라우터에 서브라우터를 등록하면 된다. 그리고 임포트 하는 것을 잊지 마라!

#### main.py에 서브라우터 등록하기 위한 코드 등록

```
# tokens_router 등록 (최종 경로가 /e/tokens이 되도록 설정)

app.include_router(tokens_router, prefix="/e")

  

# login_router 등록 (최종 경로가 /e/login이 되도록 설정)

app.include_router(login_router, prefix="/e")

  

# esg_router 등록 (최종 경로가 /e/esg이 되도록 설정)

app.include_router(esg_router, prefix="/e")

  

# finance_router 등록 (최종 경로가 /e/finance이 되도록 설정)

app.include_router(finance_router, prefix="/e")
```

#### 서브라우터 메인 라우터에 등록할 때 임포트 할 시 중요한 점
```
from app.api.gateway.tokens_router import router as tokens_router

from app.api.gateway.finance_router import router as finance_router

from app.api.gateway.esg_router import router as esg_router

from app.api.gateway.login_router import router as login_router
```


#### 서브 라우터 기본 형식

아래처럼 기본형식대로 하면 된다.

예시를 보여 주겠다. 아래 코드처럼 하면 된다. 더이상 없다. 

1. 로그인 라우터 코드 기본 구조
```

from fastapi import APIRouter, Depends, HTTPException

from typing import Dict, Any

  

router = APIRouter(

    prefix="/login",

    tags=["login"],

    responses={404: {"description": "Not found"}},

)


@router.get("/")

async def root() -> Dict[str, Any]:


    return {"message": "Login Service"}
```

2.  라우터 코드 기본 구조

```
"""

Finance 라우터

- Finance 엔드포인트


"""

  

from fastapi import APIRouter, Depends, HTTPException

from typing import Dict, Any

  

router = APIRouter(

    prefix="/finance",

    tags=["finance"],

    responses={404: {"description": "Not found"}},

)

  

@router.get("/")

async def root() -> Dict[str, Any]:

    """

    Finance 서비스 루트 엔드포인트

    """

    return {"message": "Finance Service"}
```


