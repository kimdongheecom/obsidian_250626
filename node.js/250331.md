
제이슨 웹 토큰: 

웹: 브라우저에서 보여지는 것 
앱: 모바일에서 보여지는 것

웹서버의 서버와 앱서버의 서버는 같나? 서버가 같아요!

웹에서 서버로 넘어갈 때의 객체:  request

access_token: 보안때문에 유효기간을 짧게 한다. --> session에 저장(서버에 있는 쿠키(저장소)에 저장)

session이 DB와의 차이점:

- 쿠키와 session은 메모리에 저장되어야 한다.
- DB는 영속성을 가져야하니까, 디스크에 저장되어야 한다.



캐시 메모리가 뭐야?
- CPU가 자주 사용하는 데이터를 임시 저장해두는 공간을 의미함.


캐시에 댛

사실 **캐시(Cache)** 자체가 '임시로 빠르게 저장해두는 공간'이라는 개념을 뜻하는 단어야.

그래서 굳이 뒤에 메모리, 디스크를 붙이지 않아도  
이미 **"빠른 임시 저장소"**라는 의미가 내포돼있어.

q. CPU 내에 내장되었다는 것은 뭘 의미하는지?





q. 세션과 쿠키가 어디에 저장되어 있는거야?

###### ChatGPT의 말:

좋은 질문이야!  
**세션(Session)**과 **쿠키(Cookie)**는 둘 다 **사용자 정보를 일시적으로 저장하는 방법**인데,  
저장 위치가 서로 달라. 아래 표로 정리해볼게.

---

### 📦 세션 vs 쿠키: 저장 위치 차이

| 항목        | 쿠키 (Cookie)                     | 세션 (Session)                       |
| --------- | ------------------------------- | ---------------------------------- |
| **저장 위치** | **클라이언트(브라우저)**                 | **서버**                             |
| **형태**    | 사용자의 브라우저에 파일로 저장됨              | 서버 메모리나 DB 등에 저장됨                  |
| **식별자**   | 모든 요청에 함께 전송됨 (`Set-Cookie` 헤더) | 브라우저는 세션 ID만 쿠키에 저장하고, 데이터는 서버에 있음 |
| **보안**    | 상대적으로 낮음 (브라우저에 저장되기 때문에 조작 가능) | 상대적으로 높음 (민감한 정보는 서버에만 존재)         |

---

### 🧠 예를 들어 볼게!

- 너가 로그인할 때:
    
    - **쿠키**는 → 로그인 상태를 브라우저에 저장해둠 (ex. "remember me").
        
    - **세션**은 → 로그인 정보(아이디, 권한 등)를 서버에 저장해두고,  
        브라우저에는 **세션 ID만 쿠키에 담아서** 전달함.
        

---

### 🔐 보안 관점 요약

|항목|특징|
|---|---|
|쿠키|클라이언트에 저장 → 탈취 위험 있음. 암호화가 중요.|
|세션|서버에 저장 → 서버 부하가 있지만 보안에 유리.|

---

### ✅ 한줄 요약

> **쿠키는 브라우저(클라이언트)에 저장되고, 세션은 서버에 저장된다!**

필요하면 세션과 쿠키가 실제로 HTTP 요청/응답에서 어떻게 오가는지도 설명해줄게 😄


쿠키는 세션 쿠키와 영속 쿠키가 있다?


authToken.ts - 토큰 관리하는 곳이다.

볼륨: 데이터를 외부에 안전하게 저장하는 방식



## 🥬 immer란?

> **`immer`는 JavaScript에서 불변성(immutable)을 쉽게 다룰 수 있게 도와주는 라이브러리야.**

불변성이라는 건, **원본 데이터를 직접 수정하지 않고** 새로운 데이터를 만들어내는 걸 말해.  
근데 JavaScript에서 이걸 매번 수동으로 하려면 코드가 복잡해져 😵

`immer`를 쓰면 마치 **원본을 직접 수정하듯** 코드를 짜면서도,  
내부적으로는 **불변성을 유지하는 새 객체를 만들어줘**!



메모리, 디스크, CPU, 캐시 (내장되어 있는 장치)

실존하는 메모리: 내가 잡을 수 있는 메모리.... 

캐쉬 메모리:  CPU에 내장되어 있다.




## 💻 개발에서 "persist"는?

프로그래밍에서는 보통 이런 의미야:

> **"데이터를 일시적인 메모리(RAM)가 아니라, 영구적으로 저장소(디스크 등)에 보존한다"*

RAM: 휘발성 있는 공간을 의미함.

RAM에 저장하는 것을 뭐라고 한가? in memory

DISK에 저장하는 것을 뭐라고 한가? persist


반도체 칩: 메모리

## 🧩 먼저, 개념부터 정리하자

### ✅ HDD와 SSD는 "디스크의 종류"야

| 항목    | HDD (Hard Disk Drive) | SSD (Solid State Drive) |
| ----- | --------------------- | ----------------------- |
| 저장 방식 | 회전하는 플래터(자기 디스크) 사용   | 반도체 메모리 사용 (플래시 메모리)    |
| 속도    | 느림                    | 빠름                      |
| 가격    | 저렴함                   | 비쌈                      |
| 내구성   | 움직이는 부품 있어서 충격에 약함    | 내구성 좋음 (소리도 없음)         |
| 사용 예  | 대용량 저장 위주 (문서, 사진 등)  | 빠른 부팅, 게임, 앱 실행 등       |

---

## 🔍 그럼 "디스크를 둘로 나눈다"는 건 무슨 뜻일까?

### 🎯 두 가지 해석이 있어:

---

### ① ✅ **하드디스크(또는 SSD) 하나를 "논리적으로" 나누는 것**

→ 이것을 보통 "**파티션(partition)**"을 나눈다고 해

#### 예시:

- C 드라이브 (운영체제용)
    
- D 드라이브 (데이터용)
    
- 둘 다 사실은 **하나의 디스크**인데, **OS에서 나눠서 쓰는 것처럼 보이는 거야**
    

> 📂 디스크 하나 → 여러 "논리 드라이브"로 나눈 거

---

### ② ✅ **PC에 HDD와 SSD가 둘 다 있는 경우**

→ 물리적으로 "디스크가 2개"인 거야

#### 예시:

- **SSD (빠름)** → 윈도우 설치, 게임 실행용
    
- **HDD (대용량)** → 영화, 사진, 백업 등 저장용
    

> 📂 이건 아예 **서로 다른 물리 디스크**야

---

## 📦 두 개념 정리 비교

|구분|파티션 나누기|HDD + SSD 함께 사용|
|---|---|---|
|디스크 개수|1개 (논리적 분할)|2개 이상 (물리적 분리)|
|목적|용도 구분, OS 설치, 복구 파티션 등|속도 + 저장 최적화|
|예시|C:, D:가 같은 SSD에 있을 수 있음|SSD = C:, HDD = D:|

---

## ✅ 한 줄 요약

> **"디스크를 나눈다"는 건 보통 하나의 디스크를 논리적으로 나누는 걸 의미하고**,  
> **HDD와 SSD는 서로 다른 종류의 디스크(저장 장치)야.**

혹시 네 질문이 "가상 메모리로 디스크 일부를 나누는 거냐"는 의미였다면, 그쪽도 자세히 설명해줄게!

가상 메모리는 SSD에 올린다.

전통적인 디스크: HDD (지금은 안 사용 한다.)

지금 사용하는 디스크: SSD(Storage에 저장하는 개념 = DISK에 저장하는 개념)

Storage에 저장하는 개념 과 DISK에 저장하는 개념이 같다.



디스크에 저장되어 있는 저장소는 어떤 의미로 저장되어 있는가?


스토리지에 저장되어 있는 저장소는 어떤 의미로 저장되어 있는 거? 디스크에 있는 땅에 메모리의 성격(휘발성)을 가지고 잇다. 휘발성: 전기 신호에 대한 유무.

메모리가 파견을 storage 보냈다.  메모리지가  스토리지처럼 움직인다. 코드는 디스크에 저장되고, 문법은 메모리를 사용한다. 


세션 스토리지 (끄묘ㅕㄴ 옶어진다., 휘발성을 가지고 있다.)- 캐쉬메모리, 세션과 쿠키는 휘발성을 갖고 잇다.

로컬 스토리지 - persist루ㅡㄹ 같고 있다. 지우기 전에도 존재한다. 전기 끊어도 존재한다.


세션 스토리지와 로컬 스토리지

주스텐드에 저장되는 것은 로컬 스토리지에 저장된다. 휘발성이 없다. 퍼시스ㅅ트이다.

휘발성이 없는 것을 퍼시스트라고 한다.



access_token --> 세션에 저장되는게 맞다. 휘발성이 있다. 억세스 토큰은 지워져야하니까.


session storage: 디폴트이다.(local storage와 비교하면...)

accessToken은 디폴트이다. 휘발성 있는 거 자체가 디폴트이다.




쿠키는  브라우저에 저장된다. 쿠키가 리퀘스트 헤더에 들어간다. 

세션는  서버에 저장된다. 브라우저 종료 시 만료된다. 휘발성을 가지고 잇다.


쿠키는 용량도 작고 빠르고 보안이 낮으니까 캐시처럼 움직인다.
세션은 느리고, 세션 스토리지는 


세션 스토리지가 휘발성이 있다.... 로컬 스토리지는 

세션과 세션 스토리지의 차이점:


자주 사용하는 것은 자동으로 즐겨찾기해서 쿠키에 넣는다. --> 쿠키에 저장된다.

세션 스토리지가 없는게 아니라. 작동한다....


로컬 스토리지와 쿠키....만 신경쓰면 된다. 

로컬 스토리지는 수동으로 작동해줘야 한다.


localstorage가 잘 깨진다. 
persist를 갖고 잇다는 것은 보안에 더 강력하다.

access_token이 깨지면 원상복구 시키는게 refresh_token이다.

  
로그아웃 하면 날라간다.
    redis:

      image: redis:7

      container_name: redis

      ports:

        - "6379:6379"

      networks:

        - backend-net










