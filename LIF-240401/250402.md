
프레임워크와 라이브러리로 구분되어진다.

nextJS(프레임워크) : 리엑트(라이브러리)와 Zustand(라이브러리)

리엑트의 컨테이너 : 

Zustand의 컨테이너:


axios(라이브러리) --> 스웨거 (라이브러리: API 주소를 문서화 시킨 것)--> 라우터()




ML에서 책임과 관심의 차이

책임(Responsibility): 모듈의 역할

관심(Concern): 시스템(프레임 워크)의 이슈





은상추다: 꼭 지켜야한다.!
솔리드: 지키면 좋은 것!



## CQRS란?

**Command(명령)**와 **Query(조회)**의 **책임을 분리**하는 아키텍처 패턴입니다.

CQRS(Command Query Responsibility Segregation)**는 MSA(Microservice Architecture)나 도메인 주도 설계(DDD)에서 자주 등장하는 설계 패턴입니다.


단일 책임의 원칙에서 책임이란?








책임 연쇄 패턴에서 책임이란?


모듈(메모리에 저장되어 있다.)
라이브러리(ㄷ;ㅅ,크에 저장되어 있다.)


API: 외부에서 가져오는 

Application: 이미 배포된 프로그램

인터페이스: 






책임: 모듈의 역할 즉, 모듈의 기능(function)


책임은 단일 책임 원칙, 책임 연쇄 패턴, 


관심:  

관심사의 분리로 인해 훅과 컴포넌트로 쪼갰다.

관심사의 분리는 어디 프로그램에 속하는지?






클래스 안에 있으면 멤소드이다. 클래스 밖에 있으면 함수이다.



단일 책임 --> 클래스가 하나이다.



관심사: 서비스 하나가 관심사.






- 책임 연쇄( ): 책임은 하나의 작업이 이루어지고 끝난다. 근데 이런 작업들이 쓰레드로 이루어지고, 우리는 연쇄 작업을 진행한다. 그래서 책임은 연쇄작업이 이루어진다라고 말할 수 있다. 모듈(모듈은 임포트 한다는 것을 의미함)을 통해서 연쇄를 걸고 있다. 

- 단일 책임 원칙: 


- 관심사 분리( ):


책임 집합 관심사

모듈과 라이브러리의 차이

모듈: 임포트

라이브러리: 설치



ERD: 테이블 설계


## 🔷 1. 소프트웨어 설계 원칙이란?

> **복잡한 소프트웨어 시스템을 유지보수 가능하고, 확장 가능하게 만들기 위한 이론적 기반과 실천 지침**

대표적인 설계 원칙은 다음과 같습니다:

| 원칙                    | 설명                        |
| --------------------- | ------------------------- |
| **SRP** (단일 책임 원칙)    | 하나의 클래스는 하나의 책임만 가져야 함    |
| **OCP** (개방-폐쇄 원칙)    | 확장에는 열려 있고, 수정에는 닫혀 있어야 함 |
| **LSP** (리스코프 치환 원칙)  | 자식 클래스는 부모를 대체할 수 있어야 함   |
| **ISP** (인터페이스 분리 원칙) | 클라이언트에 불필요한 메서드는 제공하지 말 것 |
| **DIP** (의존 역전 원칙)    | 구체적인 구현보다 추상에 의존할 것       |
| **SoC** (관심사의 분리)     | 역할별로 책임을 나눠야 함 (← 오늘 주제)  |
|                       |                           |


관심사 분리

SoC를 기준으로 전체 구조를 설계한 후, 각 내부 컴포넌트롸 클래스에......아키텍쳐링을 해야한다. ERD에서도 관심사가 다른 데이터는 서로 다른 테이블로 분리시켜야한다. 하나의 테이블에 모든 책임을 몰아넣지 않는 것이 핵심이다.

테이블을 쪼개는게 관심사 분리


#### - 관심사: 도메인을 의미함.
#### - 책임: 모듈의 기능(역할)


#### 도메인은 단 하나의 책임을 가져야 한다. 여기서 책임은? 서비스, 레파지토리, 컨트롤러


유저 라우터, 유저 도메인에 대한 라우터만 하고, 컨트롤러만 하고, 서비스로 나눈다....이건 책임을 가진다라고 한다.

#### 관심사 분리는 도메인을 분리하라는 것,,,그것은 테이블로 나눈다.



SOLID의 5대 원칙

|원칙|설명|
|---|---|
|**SRP** (단일 책임 원칙)|하나의 클래스는 하나의 책임만 가져야 함|
|**OCP** (개방-폐쇄 원칙)|확장에는 열려 있고, 수정에는 닫혀 있어야 함|
|**LSP** (리스코프 치환 원칙)|자식 클래스는 부모를 대체할 수 있어야 함|
|**ISP** (인터페이스 분리 원칙)|클라이언트에 불필요한 메서드는 제공하지 말 것|
|**DIP** (의존 역전 원칙)|구체적인 구현보다 추상에 의존할 것|
|**SoC** (관심사의 분리)|역할별로 책임을 나눠야 함 (← 오늘 주제)|


SQL 자체는 객체지향 언어가 아니다. 책임이 아니다. 


유저 컨트롤러는 책임이 아니다?


도메인과 책임이 만나면 클래스를 만든다.

책임 분산: 메서드와 속성으로 기능 분산

책임 : 메서드와 속성인건가?


도메인: 땅을 의미함. 지배하는 영역



도메인이고, 컬럼이 이거고, 이거를 .......그려줘 라고 해야한다. 


![[Pasted image 20250402124900.png]]

로컬 호스트 주소는 아래에 있다. 

pgadmin의 주소 : localhost:8080
![[Pasted image 20250402125029.png]]

단일 책임 원칙: 하나의 파일에 하나의 기능만 두자



쿼리: 시스템에 데이터 요청하는 것을 의미함. 상태변화가 없으면
커멘드: 상태변화가 있으면 


![[Pasted image 20250402144032.png]]


### 스키마

![[Pasted image 20250402144656.png]]



스키마: 메타 데이터 (헤더)

엔터티: 바디 (payload)

지금 아래 보면 다 타입에 대해 적혀있다. 여긴 스키마이다. 그리고 엔터티는 타입 안에 들어 있을 것이다. 아직 엔터티는 보이지 않는ㄴ다,


실체값이 없이 타입만 있으면 스키마이다.

엔티티는 바디라는 공간까지 있다. 데이터를 집어 넣을때는 엔티티에 넣어야한다.

지금 이 그림은 entity를 만들기 위한 설계도면이다. 그래서 지금 schema만 있다. 즉, schema는 entity를 만들기 위한 설계 도면이라고 말할 수 있다. 실제 데이터가 들어오기전에 sxhema에서 타입 확인해주고, 들어올지 말지 결정해준다.



![[Pasted image 20250402151406.png]]


머리속에 있는 구현하는 것을 논리적 구현, DB를 만드는 것은 물리적 구현이라고 한다.



1. 위의 ERD를 기반으로 DDL을 작성하는 코드 알려줘!

-- 1. stadium 테이블
CREATE TABLE stadium (
  stadium_id    VARCHAR(10) PRIMARY KEY,
  stadium_name  VARCHAR(40),
  hometeam_id   VARCHAR(10),
  seat_count    INTEGER,
  address       VARCHAR(60),
  ddd           VARCHAR(10),
  tel           VARCHAR(10)
);

-- 2. team 테이블
CREATE TABLE team (
  team_id       VARCHAR(10) PRIMARY KEY,
  region_name   VARCHAR(10),
  team_name     VARCHAR(40),
  e_team_name   VARCHAR(50),
  orig_yyyy     VARCHAR(10),
  zip_code1     VARCHAR(10),
  zip_code2     VARCHAR(10),
  address       VARCHAR(60),
  ddd           VARCHAR(10),
  tel           VARCHAR(10),
  fax           VARCHAR(10),
  homepage      VARCHAR(50),
  owner         VARCHAR(10),
  stadium_id    VARCHAR(10),
  FOREIGN KEY (stadium_id) REFERENCES stadium(stadium_id)
);

-- 3. player 테이블
CREATE TABLE player (
  player_id       VARCHAR(10) PRIMARY KEY,
  player_name     VARCHAR(20),
  e_player_name   VARCHAR(20),
  nickname        VARCHAR(30),
  join_yyyy       VARCHAR(4),
  position        VARCHAR(10),
  back_no         INTEGER,
  nation          VARCHAR(20),
  birth_date      DATE,
  solar           CHAR(1),
  height          INTEGER,
  weight          INTEGER,
  team_id         VARCHAR(10),
  FOREIGN KEY (team_id) REFERENCES team(team_id)
);

-- 4. schedule 테이블
CREATE TABLE schedule (
  sche_date      VARCHAR(10) PRIMARY KEY,
  stadium_id     VARCHAR(10),
  gubun          VARCHAR(10),
  hometeam_id    VARCHAR(10),
  awayteam_id    VARCHAR(10),
  home_score     INTEGER,
  away_score     INTEGER,
  FOREIGN KEY (stadium_id) REFERENCES stadium(stadium_id)
);



2. 아래에 있는 곳에서  위의 코드를 작성하면 됨
![[Pasted image 20250402161126.png]]

그리고 
![[Pasted image 20250402161145.png]]
sql창에다가 쓰면 된다.
그러면 아래처럼 코드가 나온다.

![[Pasted image 20250402160930.png]]

이렇게,,, 그리고 
![[Pasted image 20250402160944.png]]

여기 중에서 ![[Pasted image 20250402160953.png]]
이거 누르기



select * from member;

-- 1. stadium 테이블
CREATE TABLE stadium (
  stadium_id    VARCHAR(10) PRIMARY KEY,
  stadium_name  VARCHAR(40),
  hometeam_id   VARCHAR(10),
  seat_count    INTEGER,
  address       VARCHAR(60),
  ddd           VARCHAR(10),
  tel           VARCHAR(10)
);

-- 2. team 테이블
CREATE TABLE team (
  team_id       VARCHAR(10) PRIMARY KEY,
  region_name   VARCHAR(10),
  team_name     VARCHAR(40),
  e_team_name   VARCHAR(50),
  orig_yyyy     VARCHAR(10),
  zip_code1     VARCHAR(10),
  zip_code2     VARCHAR(10),
  address       VARCHAR(60),
  ddd           VARCHAR(10),
  tel           VARCHAR(10),
  fax           VARCHAR(10),
  homepage      VARCHAR(50),
  owner         VARCHAR(10),
  stadium_id    VARCHAR(10),
  FOREIGN KEY (stadium_id) REFERENCES stadium(stadium_id)
);

-- 3. player 테이블
CREATE TABLE player (
  player_id       VARCHAR(10) PRIMARY KEY,
  player_name     VARCHAR(20),
  e_player_name   VARCHAR(20),
  nickname        VARCHAR(30),
  join_yyyy       VARCHAR(4),
  position        VARCHAR(10),
  back_no         INTEGER,
  nation          VARCHAR(20),
  birth_date      DATE,
  solar           CHAR(1),
  height          INTEGER,
  weight          INTEGER,
  team_id         VARCHAR(10),
  FOREIGN KEY (team_id) REFERENCES team(team_id)
);

-- 4. schedule 테이블
CREATE TABLE schedule (
  sche_date      VARCHAR(10) PRIMARY KEY,
  stadium_id     VARCHAR(10),
  gubun          VARCHAR(10),
  hometeam_id    VARCHAR(10),
  awayteam_id    VARCHAR(10),
  home_score     INTEGER,
  away_score     INTEGER,
  FOREIGN KEY (stadium_id) REFERENCES stadium(stadium_id)
);

ERROR: duplicate key value violates unique constraint "schedule_pkey" Key (sche_date)=(C02) already exists. SQL state: 23505 Detail: Key (sche_date)=(C02) already exists.


### STADIUM
INSERT INTO STADIUM VALUES
    ('D03', '전주월드컵경기장', 'K05', 28000, '전북 전주시 덕진구 반월동 763-1', '063', '273-1763'),
    ('B02', '성남종합운동장', 'K08', 27000, '경기도 성남시 분당구 야탑동 486', '031', '753-3956'),
    ('C06', '포항스틸야드', 'K03', 25000, '경북 포항시 남구 괴동 1', '054', '282-2002'),
    ('D01', '광양전용경기장', 'K07', 20009, '전남 광양시 금호동 700', '061', '792-5600'),
    ('B05', '서울월드컵경기장', 'K09', 66806, '서울특별시 마포구 난지도길 66', '02', '2128-2973'),
    ('B01', '인천월드컵경기장', 'K04', 35000, '인천광역시 남구 문학동 482', '031', '666-0496'),
    ('C05', '창원종합운동장', 'K11', 27085, '경남 창원시 두대동 145', '055', '6644-8468'),
    ('C04', '울산문수경기장', 'K01', 46102, '울산광역시 남구 옥산 산5', '052', '220-2468'),
    ('D02', '대전월드컵경기장', 'K10', 41000, '대전광역시 유성구 노은동 270', '042', '252-2002'),
    ('B04', '수원월드컵경기장', 'K02', 50000, '수원시 팔달구 우만1동 228번지', '031', '259-2150'),
    ('A02', '광주월드컵경기장', 'K12', 40245, '광주광역시 서구 풍암동 423-2', '062', '2468-8642'),
    ('C02', '부산아시아드경기장', 'K06', 30000, '부산광역시 서구 서대신동 3가 210번지', '051', '247-5771'),
    ('A03', '강릉종합경기장', 'K13', 33000, '강원 강릉시 교동 산58', '033', '459-3631'),
    ('A04', '제주월드컵경기장', 'K14', 42256, '제주 서귀포시 법환동', '064', '3631-2460'),
    ('A05', '대구월드컵경기장', 'K15', 66422, '대구광역시 수성구 대흥동 504', '053', '602-2011'),
    ('F01', '대구시민경기장', NULL, 30000, '대구광역시', '054', NULL),
    ('F02', '부산시민경기장', NULL, 30000, '부산광역시', '051', NULL),
    ('F03', '일산경기장', NULL, 20000, '경기도 일산시', '031', NULL),
    ('F04', '마산경기장', NULL, 20000, '경남 마산시', '055', NULL),
    ('F05', '안양경기장', NULL, 20000, '경기도 안양시', '031', NULL);
COMMIT;

### TEAM

아래 글 먼저 실행해서 재생버튼 눌르기

ALTER TABLE team  
ALTER COLUMN team_id TYPE VARCHAR(100),  
ALTER COLUMN region_name TYPE VARCHAR(100),  
ALTER COLUMN team_name TYPE VARCHAR(100),  
ALTER COLUMN e_team_name TYPE VARCHAR(100),  
ALTER COLUMN zip_code1 TYPE VARCHAR(100),  
ALTER COLUMN zip_code2 TYPE VARCHAR(100),  
ALTER COLUMN address TYPE VARCHAR(100),  
ALTER COLUMN ddd TYPE VARCHAR(100),  
ALTER COLUMN tel TYPE VARCHAR(100),  
ALTER COLUMN fax TYPE VARCHAR(100),  
ALTER COLUMN homepage TYPE VARCHAR(100),  
ALTER COLUMN owner TYPE VARCHAR(100),  
ALTER COLUMN stadium_id DROP NOT NULL;
INSERT INTO team VALUES 

그리고 위의 코드를 지우고, 아래 코드를 다시 입력해서 재생버튼 누르기

INSERT INTO team VALUES 
('K05','전북','현대모터스','CHUNBUK  HYUNDAI MOTORS  FC','1995','D03','560','190',  
'전북 전주시 덕진구 반월동 763-1  전주월드컵경기장  내','063','273-1763','273-1762','[http://www.hyundai-motorsfc.com](http://www.hyundai-motorsfc.com/)', NULL),  
('K08','성남','일화천마','SEONGNAM  ILHWA CHUNMA FC','1988','B02','462','130',  
'경기도 성남시 분당구 야탑동  486번지 성남 제2종합운동장  내','031','753-3956','753-4443','[http://www.esifc.com](http://www.esifc.com/)', NULL),  
('K03','포항','스틸러스','FC POHANG  STEELERS','1973','C06','790','050',  
'경북 포항시 죽도동 614-8 동양빌딩  7층','054','282-2002','282-5955','[http://www.steelers.co.kr](http://www.steelers.co.kr/)', NULL),  
('K07','전남','드래곤즈','CHUNNAM  DRAGONS FC','1994','D01','544','010',  
'전남 광양시 중동 1318-5 신한은행빌딩  2층','061','792-5600','792-5605','[http://www.dragons.co.kr](http://www.dragons.co.kr/)', NULL),  
('K09','서울','FC서울','FOOTBALL CLUB  SEOUL','1983','B05','138','221',  
'서울 마포구 성산동 515 월드컵 경기장  내','02','2005-5746','2005-5802','[http://www.fcseoul.com](http://www.fcseoul.com/)', NULL),  
('K04','인천','유나이티드','INCHEON  UNITED FC','2004','B01','110','728',  
'인천광역시 남구 문학동 482  인천월드컵경기장  내','032','2121-5271','2121-5276','[http://www.incheonutd.com](http://www.incheonutd.com/)', NULL),  
('K11','경남','경남FC','GYEONGNAM  FC','2006','C05','111','222',  
'경남 창원시 두대동 145  창원종합운동장','055','6644-8468','6644-8488','[http://www.gsndfc.co.kr](http://www.gsndfc.co.kr/)', NULL),  
('K01','울산','울산현대','ULSAN HYUNDAI  FC','1986','C04','682','060',  
'울산광역시 동구 서부동 산137-1  현대스포츠클럽하우스','052','230-6141','230-6145','[http://www.uhfc.tv](http://www.uhfc.tv/)', NULL),  
('K10','대전','시티즌','DAEJEON CITIZEN  FC','1996','D02','301','030',  
'대전광역시 유성구 노은동 270  대전월드컵경기장 서관  3층','042','252-2002','221-0669','[http://www.dcfc.co.kr](http://www.dcfc.co.kr/)', NULL),  
('K02','수원','삼성블루윙즈','SUWON  SAMSUNG BLUEWINGS  FC','1995','B04','440','220',  
'수원시 팔달구 우만1동 228  수원월드컵경기장  4층','031','247-2002','257-0766','[http://www.bluewings.kr](http://www.bluewings.kr/)', NULL),  
('K12','광주','광주상무','GWANGJU  SANGMU FC','1984','A02','450','419',  
'광주광역시 서구 풍암동 423-2  광주월드컵경기장  내','062','777-5180','777-5181','[http://www.gwangjusmfc.co.kr](http://www.gwangjusmfc.co.kr/)', NULL),  
('K06','부산','아이파크','BUSAN IPARK  FC','1983','C02','570','050',  
'부산광역시 강서구 대저1동 2155번지  강서체육공원  내','051','555-7101','555-7103','[http://www.busanipark.co.kr](http://www.busanipark.co.kr/)', NULL),  
('K13','강원','강원FC','GANGWON  FC','2008','A03','333','444',  
'강원 춘천시 중앙로 7 강원도 개발공사  빌딩  내','033','459-3631','459-3630','[http://www.gangwon-fc.com](http://www.gangwon-fc.com/)', NULL),  
('K14','제주','제주유나이티드FC','JEJU  UNITED FC','1982','A04','555','666',  
'제주 서귀포시 강정동  3355-5','064','3631-2460','3631-2468','[http://www.jeju-utd.com](http://www.jeju-utd.com/)', NULL),  
('K15','대구','대구FC','DAEGU  FC','2002','A05','777','888',  
'대구광역시 수성구 대흥동 504  대구스타디움  내','053','5566-3967','5566-3970','[http://www.daegufc.co.kr](http://www.daegufc.co.kr/)', NULL);
COMMIT;

성공하면 , successful이 뜨고 아래와 같은 이미지가 뜬다.
![[Pasted image 20250402171050.png]]

이제 팀은 해결되었고, schedule ddl을 집어 넣어야 한다.(지금 이건 postgreSQL DDL이다.) 


