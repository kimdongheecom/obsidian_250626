
아나콘다 프롬프트 열고

가상환경 생성

가상환경 안에다가 필요 패키지 설치하고 싶으니.. 바꿔줘

파이토치랑 쿠다 툴킷 가상환경 설치.....


필요 패키지 설치....


초기 모델 생성이...

수정해야할 부붕ㄴ 스텝 포에서 init_direct 경로(학습시킬 모델 경로)지정, 

초기 모델 생성 --> 이제 학습 시작

데이터 셋 형식(지피티에 물어본다)

스텝 6 --> 이전 단계에서..경로 부분 수정

모델 새로 다른이름으로 저장하고 경로 지정하기


학습시킬 데이터 경로 지정
![[Pasted image 20250612104113.png]]


기존 모델 경로 지정하고, 학습시킬 데이터 경로 지정하고, 그 다음에 모델 새로 다른 이름으로 저장하고 경로 지정하기



데이터 셋을 인풋아웃풋 구조로 해서 --> 전처리 과정이 나옴


트레이터 세팅 이건 파인튜닝인데, 모델 학습



![[Pasted image 20250612144611.png]]

### GPU를 위한 라이브러리 설치

- pytorch설치, cudatoolkit, cuDNN설치 완료(llm-env가 active한 상태에서 설치해야함..명령어는 conda activate llm-env인 상태에서 설치해야함)
- - pytorch가 gpu를 인식하는지 못하는지 확인해봐야 함. 만약 true가 나오면, 이건 pytorch, cudatoolkit, cuDNN 설치가 제대로 되었다는 것을 의미함.
	- C:\Users\bitcamp\.conda\envs\llm-env\python.exe -c "import torch; print(torch.cuda.is_available())" --> 이건 확인 명령어이지만 쳇지피티에서 다시 찾아보기.
-  pytorch, cudatoolkit, cuDNN 설치한 라이브러리 버전 확인하는 명령어로 확인하기
- conda 명령어로 sentencepiece 설치
- pandas 설치 확인
- 




### LLM 프로젝트의 작업 순서 (라이브러리 역할 중심)

#### **1단계: 짐 싣기 (데이터 준비)**

- **사용 라이브러리:** **pandas**
    
- **자동차 비유:** **화물칸에 짐을 싣습니다.** (데이터 불러오기)
    
- **설명:**  
    가장 먼저, 모델을 학습시킬 재료(데이터)를 준비해야 합니다. pandas를 사용하여 엑셀(.xlsx)이나 CSV 파일에 저장된 대량의 텍스트 데이터를 읽어와 파이썬에서 다룰 수 있는 표(DataFrame) 형태로 만듭니다. 이 과정에서 불필요한 데이터를 제거하고 깨끗하게 다듬는 '전처리' 작업도 함께 수행합니다.
    

#### **2단계: 연료 정제 및 주입 (텍스트 토큰화)**

- **사용 라이브러리:** **sentencepiece** (주로 transformers 내부에서 호출됨)
    
- **자동차 비유:** **연료(텍스트)를 엔진이 쓸 수 있는 형태로 잘게 쪼개 정제하여 연료 분사 시스템에 넣습니다.** (토큰화)
    
- **설명:**  
    pandas로 불러온 순수한 텍스트("안녕하세요")는 엔진(PyTorch/Transformers)이 바로 사용할 수 없는 원유와 같습니다. sentencepiece가 이 텍스트를 "안녕", "하세", "요" 와 같이 의미 있는 조각(토큰)으로 자르고, 이것을 모델이 이해할 수 있는 숫자 [501, 872, 99] 와 같은 형태로 바꿔줍니다.
    

#### **3단계: 시동 걸고 운전하기 (모델 학습 및 추론)**

- **사용 라이브러리:** **PyTorch / Transformers**
    
- **자동차 비유:** **엔진에 시동을 걸고, 액셀을 밟아 실제 주행을 시작합니다.** (모델 학습)
    
- **설명:**  
    이제 모든 준비가 끝났습니다. Transformers 라이브러리를 통해 강력한 LLM 모델(차체)을 불러옵니다. 그리고 PyTorch라는 엔진(GPU 가속 포함)을 사용하여, sentencepiece가 정제해준 데이터(연료)를 모델에게 먹여 학습시킵니다. 이 과정을 통해 모델은 주어진 데이터의 패턴을 익히고 더 똑똑해집니다.
    

---

### **요약 정리**

1. **pandas (데이터 준비):** "어떤 데이터를 학습시킬까?" -> 엑셀 파일에서 텍스트를 읽어온다.
    
2. **sentencepiece (데이터 변환):** "이 텍스트를 모델이 알아듣게 하려면?" -> 텍스트를 숫자 토큰으로 바꾼다.
    
3. **PyTorch/Transformers (실행):** "이제 학습을 시작하자!" -> 숫자 토큰을 모델에 입력하여 학습시킨다.
    

이 순서대로 데이터가 흘러가면서 LLM 프로젝트가 진행됩니다. 이해에 도움이 되셨으면 좋겠습니다




### GRI 2021 기준 ESG 보고서 자동화를 위한 한국어 SLM 개발을 위한 프롬프팅


GRI 2021 Standard 가이드를 기준으로 한 ESG 보고서 자동 생성을 위한 SLM(Small Language Model) 개발을 진행하고 있으며, 현재 ‘beomi/KoAlpaca-Polyglot-5.8B’를 베이스 모델로 활용하고 있습니다. 이 프로젝트의 최종 목적은 GRI 2021 기준에서 요구하는 보고서의 논리적 구성과 문체를 정확히 이해하고, 이를 바탕으로 사용자 입력값에 따라 보고서 문장을 자동으로 생성할 수 있는 한국어 SLM을 개발하는 것입니다. 이를 위해 SLM이 수행해야 할 주요 기능은 두 가지로 요약되어집니다.

첫째는 GRI 2021 기준에 따라 ESG 보고서 문장을 생성하는 기능입니다. 

예를 들어 사용자가 프론트엔드에서 

1) 환경 분야:

항목(온실가스 배출량 Scope 1), 연도(2020~2023), 기업명(한국중부발전), 수치(각 연도별 배출량), 산업(에너지 산업) 등을 입력하면, SLM은 해당 데이터를 바탕으로 다음과 같은 ESG 보고서 문장을 생성해야 합니다: 

“한국중부발전은 최근 4년 동안 직접 온실가스(Scope 1) 배출량을 꾸준히 감축했습니다. 2020년 1,400,000 tCO₂eq에서 2023년 1,245,000 tCO₂eq로 약 11% 줄였으며, 이는 석탄에서 LNG로 연료를 전환하고 고효율 설비를 도입하는 등 지속적인 관리와 노력이 있었기 때문입니다. 앞으로도 온실가스 감축을 중요한 환경 경영 목표로 설정하고, 중장기적인 저탄소 전략에 따라 목표 달성을 위해 꾸준히 노력할 예정입니다.”와 같이 실무적인 문체로 된 문장을 생성해야 합니다.

2) 사회 분야:
항목: 안전사고 발생 건수, 연도: 2020~2023 ,기업명: 한국중부발전, 수치: 2020년: 15건, 2021년: 12건, 2022년: 9건, 2023년: 6건  
,산업: 에너지 산업 등을 입력하면, SLM은 해당 데이터를 바탕으로 다음과 같은 ESG 보고서 문장을 생성해야 합니다: 

"한국중부발전은 안전한 작업환경을 최우선으로 삼고 있으며, 지난 4년간 현장에서 발생한 안전사고를 꾸준히 줄여왔습니다. 2020년 15건에서 2023년에는 6건으로 크게 감소했으며, 이는 꾸준한 안전교육 강화와 협력업체와 함께 진행한 철저한 안전점검, 실시간 위험 모니터링 시스템 도입 등 지속적인 노력의 결과입니다. 앞으로도 현장의 안전을 핵심 경영 요소로 삼고, 더욱 철저한 관리와 예방체계를 구축할 계획입니다."와 같이 실무적인 문체로 된 문장을 생성해야 합니다.

3) 지배구조 분야:
항목: 사외이사 비율, 연도: 2020~2023, 기업명: 한국중부발전, 수치: 2020년: 25%, 2021년: 33%, 2022년:40%, 2023년:50%, 산업: 에너지 산업 등을 입력하면, SLM은 해당 데이터를 바탕으로 다음과 같은 ESG 보고서 문장을 생성해야 합니다: 

"한국중부발전은 이사회 운영의 독립성과 전문성을 확보하기 위해 사외이사 비율을 점진적으로 높여왔습니다. 2020년 25%였던 사외이사 비율은 2023년 50%까지 증가했으며, 이는 이사회가 독립적으로 주요 의사결정을 검토하고 감독할 수 있도록 지배구조를 개선한 결과입니다. 또한, 사외이사 중심으로 구성된 위원회를 통해 내부 통제와 ESG 전략의 투명성을 높이고 있으며, 앞으로도 책임 있고 투명한 지배구조 운영을 지속적으로 발전시켜 나갈 계획입니다."와 같이 실무적인 문체로 된 문장을 생성해야 합니다.

중요한 점은 GRI 2021의 보고서 설계 논리를 학습하는 것이다. GRI는 보고서 내에 GRI 번호를 명시하는 것을 요구하지 않으며, 각 중대 이슈에 대해 ‘문맥’, ‘관리방식’, ‘성과’ 등을 체계적으로 서술할 것을 요구한다. 따라서 모델은 이슈 배경, 정량 성과, 조치 및 관리방식, 전략적 방향성이라는 네 가지 구성 요소를 기반으로 문장을 구성할 수 있어야 하며, 보고서 전체에서 GRI Disclosure 요구사항을 충족하도록 자연스럽게 내용을 녹여내는 문장 생성을 목표로 한다.


둘째는 GRI 2021 Standard와 관련된 전반적인 내용을 사용자에게 설명하고, 질의 응답이 가능한 챗봇 기능을 함께 제공하고자 한다. 

이 챗봇은 ESG 보고서를 작성하거나 해석하려는 사용자에게 GRI 기준에 따른 핵심 개념과 작성 방식에 대해 정교하게 안내할 수 있어야 합니다. 이를 위해 우선적으로 GRI 2021 Standard의 주요 개정 방향과 개념 체계를 이해하고 있어야 하며, 특히 GRI 1(Foundation), GRI 2(General Disclosures), GRI 3(Material Topics)의 구조와 역할에 대해 명확하게 설명할 수 있어야 합니다.

또한, GRI 보고서에서 중대성 평가가 핵심 절차로 강조되는 만큼 조직의 맥락(Context), 이해관계자 참여(Stakeholder Engagement), 실제 영향(Impact) 등의 개념과 그것이 중대 이슈 식별 및 우선순위 결정에 어떻게 연결되는지도 설명할 수 있어야 합니다. 보고서 작성 시 필수적으로 고려해야 할 보고 원칙(Reporting Principles), 이슈별 관리방식(Management Approach) 서술법, 정성적‧정량적 성과 지표의 구성 방식 등에 대한 설명도 포함되어야 합니다.

산업별로 중요하게 여겨지는 GRI Topic Standard 이슈들(예: 에너지, 인권, 고용, 반부패 등)에 대한 배경과, 해당 이슈에 따라 기업이 보고해야 하는 항목이나 경영 방식이 어떻게 달라지는지도 안내할 수 있어야 합니다. 나아가 GRI 보고서가 왜 중요한지, 그리고 GRI가 TCFD, ISSB, SASB, ESRS 등 다른 글로벌 공시 기준들과 어떻게 연계되어 있으며 앞으로 어떤 방향으로 발전할 것인지에 대한 설명도 제공할 수 있어야 합니다.

이러한 기능을 통해 사용자는 단순히 ESG 문장을 생성하는 데 그치지 않고, GRI 2021 기준에 기반한 개념과 작성 기준에 대한 이해를 바탕으로 ESG 보고서를 기획하고, 작성하고, 검토하는 데 필요한 실무 지식까지 함께 지원받을 수 있을 것입니다.






### GRI 2021 기준 ESG 보고서 자동화를 위한 한국어 SLM 개발

지금 우리는 GRI 2021 Standard 가이드에 맞추어 ESG 보고서를 자동으로 작성해주는 한국어 기반의 SLM(Small Language Model)을 개발하고 있습니다. 이 프로젝트는 ‘beomi/KoAlpaca-Polyglot-5.8B’ 모델을 기반으로 진행되고 있으며, 최종적으로 GRI 2021이 제시하는 보고서의 논리와 문체를 충분히 이해해 자연스러운 ESG 보고서 문장을 자동으로 생성하는 것을 목표로 합니다. 이 모델은 크게 두 가지 핵심적인 기능을 수행할 예정입니다.

첫 번째 기능은 GRI 2021 기준에 따라 ESG 보고서 문장을 생성하는 것입니다. 예를 들어, 사용자가 프론트엔드 화면에서 환경, 사회, 지배구조 분야의 데이터를 입력하면, 모델은 이를 바탕으로 실제 보고서에 쓰일 법한 자연스러운 문장을 자동으로 만들어줍니다.

환경 분야의 예를 들어보겠습니다. 사용자가 온실가스(Scope 1) 배출량 항목을 선택하고, 2020년부터 2023년까지 한국중부발전의 배출량 데이터를 입력했다고 가정하면, 모델은 다음과 같은 문장을 생성할 수 있어야 합니다:

“한국중부발전은 최근 4년 동안 직접 온실가스(Scope 1) 배출량을 꾸준히 감축했습니다. 2020년 1,400,000 tCO₂eq에서 2023년 1,245,000 tCO₂eq로 약 11% 줄였으며, 이는 석탄에서 LNG로 연료를 전환하고 고효율 설비를 도입하는 등 지속적인 관리와 노력이 있었기 때문입니다. 앞으로도 온실가스 감축을 중요한 환경 경영 목표로 설정하고, 중장기적인 저탄소 전략에 따라 목표 달성을 위해 꾸준히 노력할 예정입니다.”

사회 분야에서는 안전사고 발생 건수를 예로 들어볼 수 있습니다. 사용자가 2020년부터 2023년까지 한국중부발전의 안전사고 건수를 입력하면 모델은 다음과 같은 문장을 생성합니다:

“한국중부발전은 안전한 작업환경을 최우선으로 삼고 있으며, 지난 4년간 현장에서 발생한 안전사고를 꾸준히 줄여왔습니다. 2020년 15건에서 2023년에는 6건으로 크게 감소했으며, 이는 꾸준한 안전교육 강화와 협력업체와 함께 진행한 철저한 안전점검, 실시간 위험 모니터링 시스템 도입 등 지속적인 노력의 결과입니다. 앞으로도 현장의 안전을 핵심 경영 요소로 삼고, 더욱 철저한 관리와 예방체계를 구축할 계획입니다.”

지배구조 분야에서는 사외이사 비율과 관련된 사례를 들 수 있습니다. 사용자가 한국중부발전의 2020년부터 2023년까지의 사외이사 비율을 입력하면 모델은 다음과 같이 생성합니다:

“한국중부발전은 이사회 운영의 독립성과 전문성을 확보하기 위해 사외이사 비율을 점진적으로 높여왔습니다. 2020년 25%였던 사외이사 비율은 2023년 50%까지 증가했으며, 이는 이사회가 독립적으로 주요 의사결정을 검토하고 감독할 수 있도록 지배구조를 개선한 결과입니다. 또한, 사외이사 중심으로 구성된 위원회를 통해 내부 통제와 ESG 전략의 투명성을 높이고 있으며, 앞으로도 책임 있고 투명한 지배구조 운영을 지속적으로 발전시켜 나갈 계획입니다.”

이러한 문장 생성 과정에서 중요한 점은 모델이 GRI 2021의 보고서 작성 원칙을 잘 이해해야 한다는 점입니다. GRI는 보고서 내에 특정 항목의 번호를 명시하기보다는, 각 이슈의 문맥과 관리방식, 그리고 성과를 체계적으로 서술하는 것을 강조합니다. 따라서 우리 모델도 이슈의 배경, 구체적인 성과, 관리방식, 앞으로의 계획과 전략이라는 네 가지 핵심 요소를 잘 이해하고 자연스럽게 문장에 담아낼 수 있도록 개발할 예정입니다.

두 번째 기능은 GRI 2021 Standard와 관련된 전반적인 개념을 설명하고 사용자와 질의응답을 수행하는 챗봇 기능입니다. 이 챗봇은 ESG 보고서를 작성하거나 분석하는 사용자에게 GRI 기준의 주요 개념과 작성 방법을 자세히 안내할 것입니다. 예를 들어 GRI 1, 2, 3의 구조와 역할을 설명하거나, 중대성 평가에서 조직의 상황과 이해관계자의 참여, 실제로 미치는 영향 등을 이해할 수 있도록 돕습니다. 또한 산업별로 중요한 ESG 이슈들이 무엇인지, 이 이슈들을 어떻게 관리하고 보고해야 하는지, 그리고 GRI 보고서가 왜 중요하며 다른 글로벌 표준들과 어떻게 연계되어 있는지에 대해서도 안내할 수 있습니다.

이렇게 구현된 기능을 통해 사용자는 ESG 보고서를 효율적으로 작성하는 것뿐만 아니라, GRI 2021 Standard의 전반적인 내용을 깊이 있게 이해하며 실무에서 유용하게 활용할 수 있을 것으로 기대합니다.
