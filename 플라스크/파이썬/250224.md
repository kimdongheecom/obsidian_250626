
신경계 - 컨트롤러

뇌 - 모델

고스트 -  생성자(인스턴스)

"전뇌가 고스트를 만든다."  모델이 생성자(인스턴스)를 만든다.



### 개념정리

메소드를 쪼개는게 리팩토링이다.

클래스를 쪼갠 것, 메소드를 묶는 것 - 캡슐화

클래스를 쪼갠 것  - 전략 패턴

함수를 쪼개는 것 - 리팩토링화


### api가 뭐야?
- 앱들(=모델), 데이터와 기능, 공유, 규칙
- api는 앱들 사이에 데이터와 기능을 공유하는데 필요한 규칙을 의미함.
- 웹사이트의 구글이 아니다. 구글 모델이 있다. 화면이 없고, 데이터와 기능만 가져다 주는 것이 있다. 
- 라이브러리는 클래스에서 사용된다. 클래스 차원에서의 외부 값이다. 클래스보다 큰 개념은 프레임 워크이다. 플라스크는 프레임 워크 라고 불리었다. 
- 클래스 단위의 차원에서 외부 기능을 가져다 쓰는 것을 라이브러리라고 한다. 예) 판다스...... 
- api는 앱 api이다. 추가로, 웹 api가 있다. 
- 앱의 기능과 속성을 공유하는 규칙
- 웹과 앱이 자유자재로 모양이 변한다. 
### 앱과 웹의 차이?

- 앱:  스마트폰에 설치하는 프로그램, 설치해서 쓰는 프로그램(독립적인 서비스), 독립적으로 존재하는 모델을 의미함, 도메인이다. 
- 앱의 최상위는 도메인이다. 
- 앱의 모델은 api모델이다. 
- 뷰가 없고, 기능과 속성만 보이는 것을 api모델.....

- 웹:  브라우저에서 일어나는 프로그램... (종속적인 서비스), 독립적으로 존재하지 못하는 모델을 의미함

- 뷰가 뭐냐에 따라서 엡이되고, 웹이 된다. 
- html은 웹이다. 
- 검색창에 검색하고 들어간게 웹이다. 종속적인 것을 알 수 있다. 


### 프로토콜

- 컴퓨터나 네트워크 장치들이 서로 통신할 때 따르는 규칙과 약속
- 프로토콜은 api보다 작은 개념이다. 

### 매 차원마다 객체지향으로 바뀐다.

객체는 기능과 속성의 집합이다. 


생성자에 의해서 만들어진 인스턴스를 인스턴스라고 하는데, 이건 2차원이다.

0차원에서 객체는 없다. 왜냐면 집합이 아니기 때문이다. 

1차원에서 선형 객체이다. 형태는 mvc라고 한다.  

리스트에서 스트링을 넣으면 .append가 된다. 선형 객체이다. 



파이선에서 매트릭스를 딕셔너리라고 한다.

자바에서 매트릭스를 해시맵이라고 한다. 


매트릭스를 가장 작은 객체라고 한다. 가장 작은 차원이다. 



1차원 에서의 객체는 리스트이다. 


### 선형구조
선형 구조(Linear Structure)는 **데이터가 순차적으로 나열된 형태**를 의미해!  
즉, **데이터가 "선(직선)"처럼 하나의 방향으로 연결된 구조**야.


생성자(constructor) - 인스턴스를 생성하는 것

생성자(generation)

### 리트리버(RAG 모델)

리트리버:  외부에서 주소를 가지고 올때,  강아지를 시켜서 가져온다.  약간 쳇 지피티같이 자료를 가지고 올때를 의미함.
rag는 모델만 가져다 준다. 모델은 뷰와 컨트롤러가 없다. 모델은 오픈하지만, 뷰와 컨트롤러는 개발자가 하는 것이다. 

모델을 가져오는 모든 것은 리트리버라고 한다. 

리트리버를 하는 모델 이름을 rag라고 한다. 


키를 발급 받는 순간 객체가 만들어진다. 

pip가 install pandas할 때, 아나콘다에 이미 설치되어 있어서 설치 가능 했다. 하지만, googlemaps(라이브러리)는 회사가 다르기 때문에 외부에서 리트리버를 통해 설치를 해줘야 한다. 



활성화 = 기능을 사용한다. rag를 생성한다. 
활성화 한다는 것은 키 발급 받는다...즉 이름을 발급 받는다. 라는 것을 의미한다.


api를 활성화한다. 객체를 생성한다라는 말을 의미함.

## ** Google Maps API 활성화**

1. **좌측 메뉴에서 "API 및 서비스" > "라이브러리" 선택**
2. **Google Maps 관련 API 검색**
    - **Google Maps JavaScript API (리트리버 키: AIzaSyBuXsJSJyGqNFXToPx9STCCfMLfghiU7cI)**
    - **Geocoding API (주소 ↔ 위도/경도 변환)**
    - **Places API (장소 검색)**
    - **Directions API (길 찾기 서비스)**
3. **각 API를 클릭한 후 "사용 설정(Enable)" 버튼을 클릭**

모델에 들어가서 도메인 로직(감춰져있는 것)과 비즈니스 로직(들쳐져 있는 것)이 있다.


리트리버는 api객체라고 한다.  

![[Pasted image 20250224121916.png]]


"api 및 서비스 > 라이브러리"  이 말은... 라이브러리를 가지고 오겠다는 말... 외부 라이브러리에서 나는 키를 발급 받았다. 


리트리버 키: AIzaSyBuXsJSJyGqNFXToPx9STCCfMLfghiU7cI

나는 키를 발급받고,  saved_data 폴더를 만들어서 키를 통해 데이터를 그 폴더에 저장해 놓고, 키를 삭제하였ㅅ다.


### 싱글턴 패턴 사용

외부에 라이브러리에서 리트리버를 사용해서 키를 발급 받을 때, 키가 하나만 있어야 한다. 이때 싱글 턴 패턴 사용

외부 api를 만들 때,  singleton 패턴을 사용한다. 

싱글턴 패턴에서 true값이 나오면, 싱글턴이 끝난 것이다.


### 프렉탈
같은 구조로 되어있는 것이 차원이 바뀌면서 생겨나는 것들....나뭇잎을 생각하기...

### 객체 지향의 4대 특징

1. 추상화 : 뷰를 보여주지 않고, 모델(API)만 보여주는 것

2. 캡슐화: 클래스로 쪼개는 것

3.  상속: 

4.  다형성: 

컴포넌트:  

인스턴스 만든 것.. - 

인스턴스 만드는 패턴을 뭐라고 하지? 디폴트 생성자라고 함....._init_ 을 의미함.

reuse는 클래스이다....


### 생성 패턴 6가지(사실 생성 패턴 6가지가 있다.)

#### - 디폴트 생성자: 
- 클래스에서 생성자를 정의하지 않으면 자동으로 제공되는 기본 생성자를 의미함. __init__을 의미함.__ 근데 보통 init은 쓰여져 있지 않다. 모델이 잘 작동하면 init이 잘 작동하고 있는 것이다.
#### - 프로토 타입
- _proto_
#### - 싱글턴
- 키 넣는 패턴은 싱글턴 패턴이다.!!!! 아주 굉장히 심플하다. 그리고 아래처럼 __new__가 쓰여있다.!__ 
#### - 팩토리
#### - 추상 팩토리
#### - 빌더







flamework와 대응하는 것 - flask


플라스크가 판다스를 가지고 있다.

nextjs가 react를 가지고 있다. nextjs는 자바스크립트의 확장자이다.

nextjs에서 react를 사용한다는 것은 flask에서 pandas를 사용한다는 것이다.

**Next.js**는 **React 기반의 프레임워크**

#### FastAPI와 Flask의 차이점

fastAPI는 프레임워크이다. 근데 api는 모델은 갖고 잇는데, 뷰와 컨트롤러를 안갖고 있다. 클라우드에 올릴 수 있다. 개방적이다.

flask는 다 갖고 있는(모델, 컨트롤러, 뷰) 프레임워크 이다. 일체형이다.  클라우드에 올릴 수 없다. 폐쇠적이다.


### 모놀리식 아키텍쳐 
- 플라스크가 폐쇠망이다.  외부에서 접속하거나, 데어터를 주거나 받거나 할 수가 없다. 
- 아키텍쳐는 폴더구조이다.

### 마이크로 서비스(MSA)

- 서비스를 잘게 쪼갠 것
- api별로 쪼갠것.....
- view를 분리시킨 것.... 한 몸에 모델과 컨트롤러만 있다. 
- 뷰만 쪼개서 따로 만들어 놨다.
- 뷰를 변형시킬 수 있다.


### 새로운 프로젝트 커밋하는 방법

git init
git add .
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/kimdongheecom/kimdonghee250224.git(이 부분은 따로 복사를 해야함... 깃허브 새프로젝트 부분에서)
git push -u origin main


아래를 api라고 한다. 
![[Pasted image 20250224173608.png]]


모델과 서비스를 두 개 합치면, 모델이라고 한다.


### 모델

도메인: 네이버 닷컴을 의미함

도메인 로직:  모델

api: 모델 최상위 버전



repository: 데이터베이스와 연결되는 곳, 저장소를 의미함.

### 📌 2025년 2월 24일 검색 내용 요약 노트
## **1️⃣ API (Application Programming Interface)**

✅ **API란?**

- 프로그램과 프로그램이 **서로 소통할 수 있도록 정해진 규칙**
- 예) 배달 앱이 **카카오맵 API**를 사용해 지도 데이터를 가져옴

✅ **API 주요 개념**

- **클라이언트(Client):** API를 요청하는 프로그램
- **서버(Server):** API 요청을 처리하고 데이터를 반환하는 프로그램
- **요청(Request):** 클라이언트가 API에 보낸 데이터
- **응답(Response):** 서버가 클라이언트에 보내는 데이터

✅ **API 예시 (REST API)**

`import requests  url = "https://api.example.com/users/123" response = requests.get(url)  if response.status_code == 200:     data = response.json()     print(data)`

🔥 **API를 활용하면, 데이터를 쉽게 주고받고 자동화할 수 있음!** 🚀

---

## **2️⃣ 싱글턴 패턴 (Singleton Pattern)**

✅ **싱글턴 패턴이란?**

- **하나의 인스턴스만 생성**되도록 보장하는 디자인 패턴
- 데이터베이스 연결, 설정 관리, 캐시 시스템 등에 사용

✅ **싱글턴 패턴 구현 (Python)**


`class Singleton:     _instance = None      def __new__(cls):         if cls._instance is None:             cls._instance = super(Singleton, cls).__new__(cls)         return cls._instance`

🔥 **이제부터 싱글턴 패턴 코드는 항상 "하나의 클래스로만" 작성할 것!**

---

## **3️⃣ FastAPI**

✅ **FastAPI란?**

- **Python 기반의 최신 웹 API 프레임워크**
- **비동기(Async) 지원**으로 매우 빠름
- **자동 문서 생성 (Swagger UI)** 제공

✅ **FastAPI 설치 및 실행**

`pip install fastapi uvicorn uvicorn main:app --reload`

✅ **FastAPI 기본 코드**


`from fastapi import FastAPI  app = FastAPI()  @app.get("/") def read_root():     return {"message": "Hello, FastAPI!"}`

🔥 **Flask보다 빠르고 문서 자동화 기능이 뛰어나 API 개발에 적합!**

---

## **4️⃣ 모놀리식 아키텍처 vs 마이크로서비스 아키텍처 (MSA)**

✅ **모놀리식 아키텍처 (Monolithic Architecture)**

- 모든 기능이 **하나의 코드베이스에서 실행**됨
- 배포가 단순하지만, **확장성이 낮고 유지보수가 어려움**

✅ **마이크로서비스 아키텍처 (MSA)**

- 기능을 여러 개의 **독립적인 서비스로 분리**하여 운영
- **유지보수와 확장성이 뛰어나지만**, 운영이 복잡

✅ **Flask는 모놀리식일까?**

- Flask 자체는 **모놀리식 아키텍처가 아님**
- Flask를 **하나의 애플리케이션으로 만들면 모놀리식**,  
    여러 개의 독립적인 서비스로 나누면 **MSA**

🔥 **작은 프로젝트는 모놀리식, 확장성이 필요한 대형 프로젝트는 MSA가 적합!**



## **7️⃣ 기타 학습 내용**

✅ **객체 지향의 4대 특징**

- **추상화** → 핵심 정보만 제공, 불필요한 부분 숨김
- **캡슐화** → 데이터 보호, 직접 접근 방지
- **상속** → 코드 재사용, 유지보수 용이
- **다형성** → 같은 메서드가 다양한 방식으로 동작

✅ **컴포넌트(Component)란?**

- **독립적이며 재사용 가능한 작은 단위의 요소**
- UI 개발(React), 백엔드 모듈화(Django, Flask), MSA에서 활용

✅ **디폴트 생성자란?**

- **클래스에서 생성자를 정의하지 않으면 자동으로 제공되는 기본 생성자**



#### append 및 get
append 점 앞에 있는 것은 list이다. 예를 들어,"gu_names.append(tmp_gu)" 여기에서 gu_names는 리스트이다. 
get 점 앞에 있는 것은 딕셔너리이다. 예를 들어,   "station_addrs.append(tmp[0].get("formatted_address"))" 여기에서 tmp[0]은 딕셔너리이다. 



### 생성, 행동, 구조 패턴

#### 생성 패턴(0,1,3,,13) - instance나 모듈을 만드는 것
- 프로토타입
- 싱글턴
- 팩토리
- 추상 팩토리
- 팩토리 메서드

#### 구조 패턴(9,18,4,8,12,21,22) - entity
- 구상
- 플라이웨이트
- 퍼사드
- 브릿지
- 데코레이터
- 프록시
- 어뎁터

#### 행동 패턴(2, 5, 6, 7, 10, 11, 14, 15, 16, 17, 19, 20) - 함수형 프로그램
-  반복자[이터레이터]
-  옵서버
-  커맨드
- 상태
- 전략
- 메디에이터
- 비지터
- 인터프리터
- 템플릿 메서드
- 책임연쇄패턴
- 메멘토

책임연쇄, 커멘드, 옵저버